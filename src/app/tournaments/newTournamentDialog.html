<h1 mat-dialog-title>Create New Tournament</h1>
<form [formGroup]="tournamentForm" novalidate (ngSubmit)="onSubmit()">
    <!-- Value: {{ tournamentForm.value | json }} -->

    <mat-form-field class="fill">
        <input matInput placeholder="Tournament Name" formControlName="name">
    </mat-form-field>
    <br>
    <mat-label>All times and dates in UTC</mat-label>
    <br>
    <br>
    <mat-form-field>
        <mat-label>Start Date</mat-label>
        <input matInput [matDatepicker]="dp3" readonly formControlName="date" (focus)="dp3.open()" (click)="dp3.open()">
        <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
        <mat-datepicker #dp3 disabled="false"></mat-datepicker>
    </mat-form-field>
    <br>
    <mat-form-field>
        <mat-label>End Date</mat-label>
        <input matInput [matDatepicker]="dp1" readonly formControlName="endDate" (focus)="dp1.open()" (click)="dp1.open()">
        <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
        <mat-datepicker #dp1 disabled="false"></mat-datepicker>
    </mat-form-field>
    <br>
    <mat-form-field class="fill">
        <input matInput type="time" formControlName="time">
    </mat-form-field>

    <br>
    <mat-form-field class="fill">
        <input matInput placeholder="Discord Link" formControlName="discord">
        <mat-error *ngIf="discord.invalid && discord.touched">
            Please enter a valid link
        </mat-error>
    </mat-form-field>

    <br>
    <!-- <mat-form-field class="fill">
        <input matInput placeholder="Owner" formControlName="owner">
    </mat-form-field> -->
    <mat-form-field>
        <mat-label>Owner</mat-label>
        <mat-select formControlName="owner">
            <mat-option *ngFor="let user of users" [value]="user.discordId">
                {{user.name}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <br>
    <mat-form-field class="fill">
        <input matInput placeholder="Twitch Link" formControlName="twitchLink">
    </mat-form-field>

    <br>
    <mat-form-field class="fill">
        <input matInput placeholder="Prize Pool" formControlName="prize">
    </mat-form-field>

    <br>
    <!-- <mat-form-field class="fill">
        <textarea matInput placeholder="Tournament Info" formControlName="info"></textarea>
    </mat-form-field> -->
    <label class="card-text">Tournament Info:</label> <br><br>
    <ckeditor placeholder="Tournament Info" formControlName="info"></ckeditor>

    <br>
    <!-- <mat-form-field class="fill"> -->
    <!-- <input matInput placeholder="Image (soonTM)" formControlName="image" [disabled]="true"> -->
    <input type="file" (change)="onFileChanged($event)" #fileInput>
    <br>
    <p class="card-text" style="font-size: small;">*Will be rescaled to 550px wide</p>
    <!-- </mat-form-field> -->

    <div mat-dialog-actions>
        <button mat-raised-button color="warn" mat-dialog-close>Close</button>
        <button mat-raised-button color="primary" type="submit" mat-dialog-close [disabled]="tournamentForm.invalid">Add
            Tournament</button>
    </div>
</form>